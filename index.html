<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6th Grade - When Does School End?</title>
    <link rel="stylesheet" href="schedule-styles.css">
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>üè´ When Does School End?</h1>
            <p class="subtitle">6th Grade Bell Schedule</p>

            <div class="date-picker-section">
                <label for="date-input">Pick a Date:</label>
                <input type="date" id="date-input" min="2025-08-01" max="2026-06-30">
            </div>

            <div class="result" id="result">
                <div class="time-display" id="time-display">Select a date to see when school ends</div>
                <div class="schedule-type" id="schedule-type"></div>
                <div class="notes" id="notes"></div>
            </div>

            <div class="weather-section">
                <h3>üå§Ô∏è Today's Weather in Fremont</h3>
                <div class="weather-content" id="weather-content">
                    <div class="weather-loading">Loading weather...</div>
                </div>
            </div>

            <div class="info-section">
                <h3>üìÖ Schedule Types</h3>
                <ul>
                    <li><strong>Regular Day (A1):</strong> M/Tu/Th/Fri - Ends at 2:28 PM</li>
                    <li><strong>Minimum Day (A2):</strong> Every Wednesday + special dates - Ends at 1:17 PM</li>
                    <li><strong>Block Schedule (A3):</strong> M/Th in April - Ends at 2:28 PM</li>
                    <li><strong>Last Day (A4):</strong> June 2, 2026 - Ends at 1:01 PM</li>
                </ul>
            </div>

            <div class="news-section">
                <h3>üì∞ Latest News from Fremont</h3>
                <div class="news-grid">
                    <a href="https://www.mercurynews.com/2026/01/10/fremont-rancher-refuses-to-remove-gate-after-city-claims-it-blocks-park-access/" target="_blank" rel="noopener noreferrer" class="news-link">
                        <div class="news-item">
                            <span class="news-category local">Local</span>
                            <h4>Rancher vs. City: Park Access Dispute</h4>
                            <p>A Fremont rancher is fighting to keep a gate on Morrison Canyon Road that city officials say blocks public park access.</p>
                            <span class="news-date">January 10, 2026</span>
                        </div>
                    </a>
                    <a href="https://www.mercurynews.com/2026/01/09/fremont-tech-property-build-real-estate-office-develop-economy-jobs/" target="_blank" rel="noopener noreferrer" class="news-link">
                        <div class="news-item">
                            <span class="news-category local">Local</span>
                            <h4>$110M Tech Campus Sold in Fremont</h4>
                            <p>Wall Street firm Morgan Stanley purchased a major tech campus on Osgood Road, showing continued business growth in Fremont.</p>
                            <span class="news-date">January 9, 2026</span>
                        </div>
                    </a>
                    <a href="https://fremontunified.org/schedule-news/calendar/" target="_blank" rel="noopener noreferrer" class="news-link">
                        <div class="news-item">
                            <span class="news-category school">School</span>
                            <h4>2026-2027 School Year Enrollment Now Open</h4>
                            <p>FUSD has opened enrollment applications for all grades for the upcoming 2026-2027 school year. First day is August 11, 2026.</p>
                            <span class="news-date">January 2026</span>
                        </div>
                    </a>
                    <a href="https://fremontunified.org/news/120-fremont-unified-students-named-2026-national-merit-scholarship-semifinalists/" target="_blank" rel="noopener noreferrer" class="news-link">
                        <div class="news-item">
                            <span class="news-category school">School</span>
                            <h4>120 FUSD Students Named National Merit Semifinalists</h4>
                            <p>Fremont Unified students earned recognition as 2026 National Merit Scholarship Semifinalists, competing for scholarships this spring.</p>
                            <span class="news-date">September 2025</span>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Special dates and their end times
        const specialDates = {
            // Minimum Days (A2 Schedule) - End at 1:17 PM
            '2025-08-12': { endTime: '1:17 PM', type: 'Minimum Day', note: 'First day of school - early dismissal' },
            '2025-11-20': { endTime: '1:17 PM', type: 'Minimum Day', note: 'Before Thanksgiving break' },
            '2025-12-19': { endTime: '1:17 PM', type: 'Minimum Day', note: 'Before winter break' },
            '2026-05-24': { endTime: '1:17 PM', type: 'Minimum Day', note: 'Before Memorial Day weekend' },
            '2026-06-01': { endTime: '1:17 PM', type: 'Minimum Day', note: 'Last week of school' },

            // Last Day of School (A4 Schedule)
            '2026-06-02': { endTime: '1:01 PM', type: 'Last Day of School', note: 'üéâ Have a great summer!' },

            // Block Schedule Days (A3 Schedule M/TH) - End at 2:28 PM
            '2026-04-13': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-14': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-16': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-17': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-20': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-21': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-23': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-24': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-27': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' },
            '2026-04-28': { endTime: '2:28 PM', type: 'Block Schedule Day', note: 'Periods 5/6 combined (105 min)' }
        };

        const dateInput = document.getElementById('date-input');
        const timeDisplay = document.getElementById('time-display');
        const scheduleType = document.getElementById('schedule-type');
        const notesDisplay = document.getElementById('notes');

        // Set default date to today
        const today = new Date().toISOString().split('T')[0];
        dateInput.value = today;

        function checkSchedule(dateString) {
            const date = new Date(dateString + 'T12:00:00');
            const dayOfWeek = date.getDay(); // 0 = Sunday, 1 = Monday, etc.

            // Check if it's a weekend
            if (dayOfWeek === 0 || dayOfWeek === 6) {
                timeDisplay.textContent = 'No School!';
                timeDisplay.className = 'time-display no-school';
                scheduleType.textContent = 'Weekend';
                notesDisplay.textContent = 'üéÆ Enjoy your weekend!';
                return;
            }

            // Check if it's a special date
            if (specialDates[dateString]) {
                const schedule = specialDates[dateString];
                timeDisplay.textContent = schedule.endTime;
                timeDisplay.className = 'time-display special';
                scheduleType.textContent = schedule.type;
                notesDisplay.textContent = schedule.note;
            } else if (dayOfWeek === 3) {
                // Wednesday - Minimum Day
                timeDisplay.textContent = '1:17 PM';
                timeDisplay.className = 'time-display special';
                scheduleType.textContent = 'Minimum Day (Wednesday)';
                notesDisplay.textContent = 'Period 6 ends at 1:17 PM';
            } else {
                // Regular day (M/Tu/Th/Fri)
                timeDisplay.textContent = '2:28 PM';
                timeDisplay.className = 'time-display regular';
                scheduleType.textContent = 'Regular Day';
                notesDisplay.textContent = 'Period 6 ends at 2:28 PM';
            }
        }

        // Event listener for date changes
        dateInput.addEventListener('change', (e) => {
            checkSchedule(e.target.value);
        });

        // Check schedule for today on load
        checkSchedule(today);

        // Weather functionality
        async function fetchWeather() {
            try {
                // Fremont, CA coordinates
                const lat = 37.5485;
                const lon = -121.9886;

                // Using Open-Meteo API (free, no API key needed)
                const response = await fetch(
                    `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weathercode,windspeed_10m&temperature_unit=fahrenheit&windspeed_unit=mph&timezone=America/Los_Angeles`
                );

                const data = await response.json();
                displayWeather(data);
            } catch (error) {
                document.getElementById('weather-content').innerHTML =
                    '<div class="weather-error">Unable to load weather data</div>';
            }
        }

        function getWeatherDescription(code) {
            const weatherCodes = {
                0: { desc: 'Clear sky', icon: '‚òÄÔ∏è' },
                1: { desc: 'Mainly clear', icon: 'üå§Ô∏è' },
                2: { desc: 'Partly cloudy', icon: '‚õÖ' },
                3: { desc: 'Overcast', icon: '‚òÅÔ∏è' },
                45: { desc: 'Foggy', icon: 'üå´Ô∏è' },
                48: { desc: 'Foggy', icon: 'üå´Ô∏è' },
                51: { desc: 'Light drizzle', icon: 'üå¶Ô∏è' },
                53: { desc: 'Drizzle', icon: 'üå¶Ô∏è' },
                55: { desc: 'Heavy drizzle', icon: 'üåßÔ∏è' },
                61: { desc: 'Light rain', icon: 'üåßÔ∏è' },
                63: { desc: 'Rain', icon: 'üåßÔ∏è' },
                65: { desc: 'Heavy rain', icon: '‚õàÔ∏è' },
                71: { desc: 'Light snow', icon: 'üå®Ô∏è' },
                73: { desc: 'Snow', icon: '‚ùÑÔ∏è' },
                75: { desc: 'Heavy snow', icon: '‚ùÑÔ∏è' },
                80: { desc: 'Rain showers', icon: 'üå¶Ô∏è' },
                81: { desc: 'Rain showers', icon: 'üåßÔ∏è' },
                82: { desc: 'Heavy rain showers', icon: '‚õàÔ∏è' },
                95: { desc: 'Thunderstorm', icon: '‚õàÔ∏è' },
                96: { desc: 'Thunderstorm with hail', icon: '‚õàÔ∏è' },
                99: { desc: 'Thunderstorm with hail', icon: '‚õàÔ∏è' }
            };
            return weatherCodes[code] || { desc: 'Unknown', icon: 'üå°Ô∏è' };
        }

        function getClothingRecommendation(temp, weatherCode) {
            let clothing = [];

            // Temperature-based recommendations
            if (temp >= 75) {
                clothing.push('üëï T-shirt and shorts');
                clothing.push('üß¢ Hat and sunglasses');
            } else if (temp >= 65) {
                clothing.push('üëï T-shirt or light long sleeve');
                clothing.push('üëñ Pants or shorts');
            } else if (temp >= 55) {
                clothing.push('üß• Light jacket or hoodie');
                clothing.push('üëñ Long pants');
            } else if (temp >= 45) {
                clothing.push('üß• Jacket or sweater');
                clothing.push('üëñ Long pants');
            } else {
                clothing.push('üß• Warm jacket');
                clothing.push('üß§ Consider gloves');
            }

            // Weather condition-based recommendations
            if (weatherCode >= 51 && weatherCode <= 82) {
                clothing.push('‚òî Bring an umbrella or raincoat');
            } else if (weatherCode >= 71 && weatherCode <= 75) {
                clothing.push('üß§ Warm gloves and hat');
            } else if (weatherCode >= 80) {
                clothing.push('‚òî Waterproof jacket');
            }

            return clothing;
        }

        function displayWeather(data) {
            const temp = Math.round(data.current.temperature_2m);
            const weatherCode = data.current.weathercode;
            const windSpeed = Math.round(data.current.windspeed_10m);
            const weather = getWeatherDescription(weatherCode);
            const clothing = getClothingRecommendation(temp, weatherCode);

            const weatherHTML = `
                <div class="weather-display">
                    <div class="weather-main">
                        <div class="weather-icon">${weather.icon}</div>
                        <div class="weather-temp">${temp}¬∞F</div>
                        <div class="weather-desc">${weather.desc}</div>
                    </div>
                    <div class="weather-details">
                        <div class="weather-detail">üí® Wind: ${windSpeed} mph</div>
                    </div>
                    <div class="clothing-recommendations">
                        <h4>üëî What to Wear:</h4>
                        <ul>
                            ${clothing.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;

            document.getElementById('weather-content').innerHTML = weatherHTML;
        }

        // Fetch weather on page load
        fetchWeather();
    </script>
</body>
</html>
